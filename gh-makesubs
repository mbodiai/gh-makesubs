#!/bin/bash

# Get the list of directories from the command output
directories=$(gh extension ls . | awk '{print $1}')

# Loop through each directory and call gh makesubs
for dir in $directories; do
    echo "Processing directory: $dir"
    cd "$dir" || { echo "Failed to navigate to $dir"; continue; }
    gh makesubs
    cd - || { echo "Failed to navigate back"; exit 1; }
done

echo "All directories processed."